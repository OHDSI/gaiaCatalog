{
  "dct:title": "OSM Tanzania Populated Places ",
  "dct:creator": ["OpenStreetMap contributors"],
  "dct:identifier": "https://www.openstreetmap.org/",
  "dct:publisher": ["OpenStreetMap"],
  "dct:rights": "You are free to copy, distribute, transmit and adapt our data, as long as you credit OpenStreetMap and its contributors. If you alter or build upon our data, you may distribute the result only under the same licence.",
  "dct:license": "OpenStreetMap\u00ae is open data, licensed under the [Open Data Commons Open Database License](https://opendatacommons.org/licenses/odbl/) (ODbL) by the [OpenStreetMap Foundation](https://osmfoundation.org/) (OSMF).",
  "dct:coverage": ["Tanzania"],
  "dct:type": "Vector Dataset",
  "dct:issued": "2025-02-24T00:00:00Z",
  "dct:description": "A point feature set for the populated places in Tanzania sourced from OpenStreetMap with a query that includes Cities, Towns, Villages, and Hamlets.",
  "prov:qualifiedAttribution": "Direct from source.",
  "dcat:keyword": ["Tanzania", "Populated Places", "Cities", "Towns", "Villages", "Hamlets"],
  "adms:representationTechnique": "vector",
  "locn:geometry": "point",
  "dct:conformsTo": "EPSG:4326",
  "prov:action": "#########\n# GDSC ETL is performed in two steps: shell script to ETL data into postgres\n# and then additional transformations with SQL in postGIS (if needed).\n####\n\n#########\n# Step 1 - bash script (pseudo code)\n####\n\n# create directory structure and move into it\nmkdir -p /data/tz_populated_places_osm/{download,etl} && cd /data/tz_populated_places_osm\n\n# set update flag based on last update and update frequency\ndo_update=0 if date() < last_update + update_frequency else do_update = 1\n\n# download if update flag is set:\nif do_update == 1 then\ncurl -o download/tz_populated_places_osm.osm 'https://overpass-api.de/api/interpreter?data=area%28id:3600195270%29-%3E.searchArea;node%5B%22place%22~%22city|town|village|hamlet%22%5D%28area.searchArea%29;%28._;%3E;%29;out;'\n\n# load into postGIS with:\n  ogr2ogr -lco GEOMETRY_NAME=geom -f PostgreSQL PG:\"<postgres connection>\" download/tz_populated_places_osm.osm\n\n#########\n# Step 2 - SQL script (pseudo code):\n####\n\n# Select proper geometry into the named table\npsql -d $POSTGRES_DB -U $POSTGRES_USER -p $POSTGRES_PORT -h gaia-db -c \"\nSELECT * INTO tz_populated_places_osm FROM points;\nDROP TABLE IF EXISTS lines;\nDROP TABLE IF EXISTS multilinestrings;\nDROP TABLE IF EXISTS multipolygons;\nDROP TABLE IF EXISTS other_relations;\nDROP TABLE IF EXISTS points;\"\n\n# remove duplicate points and make geometries valid:\nUPDATE tz_populated_places_osm\n  SET geom=ST_MakeValid(ST_RemoveRepeatedPoints(geom));\n\n# add local geometry column and reproject existing geometries into local EPSG:\nSELECT AddGeometryColumn (\n  'tz_populated_places_osm',\n  'geom_local', 4326, 'point', 2\n);\nUPDATE tz_populated_places_osm\n  SET geom_local=ST_MakeValid(ST_RemoveRepeatedPoints(ST_Transform(geom,4326)));\nCREATE INDEX tz_populated_places_osm_geom_local_idx\n  ON tz_populated_places_osm\n  USING GIST (geom_local);\nNOTIFY pgrst, 'reload schema';\n# Move into corrrect directory and create derivative directory in data package on osgeo\ncd /data/tz_populated_places_osm/\nmkdir -p derived\n\nexport PGPASSWORD=$(cat $POSTGRES_PASSWORD_FILE)\n# Create shapefile of table in derivate directory on osgeo \nogr2ogr -f \"ESRI Shapefile\" -overwrite derived/tz_populated_places_osm.shp PG:\"<postgres connection>\" tz_populated_places_osm\n\n# Create downloadable tarfile of shp in derivative directory on osgeo\nrm -f derived/tz_populated_places_osm.shp.tar.gz\ntar -czf derived/tz_populated_places_osm.shp.tar.gz meta_dcat_tz_populated_places_osm.json -C derived tz_populated_places_osm.shp tz_populated_places_osm.prj tz_populated_places_osm.shx tz_populated_places_osm.dbf\n\n# Move into correct directory\ncd /data/tz_populated_places_osm/\n\nexport PGPASSWORD=$(cat $POSTGRES_PASSWORD_FILE)\n",
  "prov:wasGeneratedBy": "GDSC automation (see Process Step)",
  "dcat:contactPoint": ["Timothy Norris", "Librarian Associate Professor", "University of Miami Libraries, Frost Institute for Data Science and Computing", "txn60@miami.edu"],
  "gdsc:label": "name",
  "gdsc:value": ["osm_id", "name", "place", "other_tags"],
  "gdsc:attributes": ["osm_id;OpenStreetMap (OSM) ID;;varchar;", "name;Place/settlement name;;varchar;", "place;Kind of settlement as City, Town, Village, Hamlet, City Block, or other;;varchar;", "other_tags;Any other OSM tags with values;;varchar;", ""],
  "gdsc:collections": ["Tanzania Climate Change", "Tanzania Health Outcomes"],
  "gdsc:functions": ["gdsc_get_attributes"],
  "gdsc:analyticConformsTo": "EPSG:4326",
  "gdsc:derived": ["shp"],
  "dcat:accessURL": "/data/tz_populated_places_osm/",
  "gdsc:sponsor": ["IDSC;https://idsc.miami.edu", "Library;https://www.library.miami.edu"],
  "dcat:downloadURL": "https://overpass-api.de/api/interpreter?data=area%28id:3600195270%29-%3E.searchArea;node%5B%22place%22~%22city|town|village|hamlet%22%5D%28area.searchArea%29;%28._;%3E;%29;out;",
  "gdsc:tablename": "tz_populated_places_osm",
  "gdsc:up": "true",
  "gdsc:podID": "gaia-db",
  "dct:modified": "2025-09-11T13:13:42Z",
  "dct:accrualPeriodicity": "As Needed",
  "gdsc:version": "2025-09-11T19:03:33Z",
  "spdx:checksum": "TBD",
  "dct:extent": ["2914255", "2.8M"],
  "dcat:bbox": "not yet know"
}
